"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[180],{1180:function(e,t,r){r.r(t);var a=r(1413),n=r(4165),s=r(5861),l=r(885),i=r(2791),c=r(8617),o=r(71),u=r(1933),d=r(7689),x=r(1087),m=r(9085),p=r(8267),g=r(2208),b=r(2636),f=r(2203),h=r(2408),j=r(2824),v=r(184),y=function(e){e.initialImage,e.setImage;var t=e.file,r=e.setFile,n=(0,i.useCallback)((function(e){var t=e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})}));r(t[0])}),[r]),s=(0,p.uI)({onDrop:n,accept:{"image/jpeg":[],"image/jpg":[],"image/png":[],"image/webp":[],"image/gif":[]}}),l=s.getRootProps,c=s.getInputProps,u=s.isDragActive,d=s.isDragAccept,x=s.isDragReject;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"mb-4 flex flex-wrap gap-x-2",children:t.name&&(0,v.jsxs)("button",{type:"button",className:"group relative h-40 w-52 cursor-pointer overflow-hidden rounded border-2 border-gray-100",onClick:function(){r(new File([],""))},children:[(0,v.jsx)("img",{alt:t.name,src:t.preview,className:"rounded-md object-contain",onLoad:function(){URL.revokeObjectURL(t.preview)}}),(0,v.jsx)("div",{className:"group absolute inset-0 hidden h-full  w-full place-content-center place-items-center bg-gray-100 opacity-50 group-hover:flex",children:(0,v.jsx)(o.bjh,{className:"animate-spin-fast-once text-7xl text-black "})})]},t.name)}),(0,v.jsxs)("div",(0,a.Z)((0,a.Z)({},l()),{},{className:"".concat(u&&"bg-gray-100"," ").concat(x&&"bg-red-100"," ").concat(d&&"bg-green-100"," gap-y flex h-[10rem] w-full cursor-pointer flex-col place-content-center place-items-center border-2 border-dashed border-gray-300 text-xl font-bold"),children:[(0,v.jsx)("input",(0,a.Z)({},c())),x?(0,v.jsx)("p",{children:"Unsupported file type..."}):u?(0,v.jsx)("p",{children:"Drop the files here ..."}):(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("p",{children:"Drag 'n' drop some files here, or click here to select files"})}),(0,v.jsx)("p",{className:"text-lg text-gray-300",children:"Only *jpg *.jpeg *.png and *.webp images will be accepted"})]}))]})};t.default=function(){var e=(0,d.s0)(),t=(0,u.useQueryClient)(),r=(0,i.useState)(""),a=(0,l.Z)(r,2),o=a[0],p=a[1],w=(0,i.useState)(""),N=(0,l.Z)(w,2),C=N[0],Z=N[1],k=(0,i.useState)("left"),F=(0,l.Z)(k,2),S=F[0],D=F[1],P=(0,i.useState)(""),U=(0,l.Z)(P,2),I=U[0],R=U[1],_=(0,i.useState)(new File([],"")),B=(0,l.Z)(_,2),L=B[0],O=B[1],Q=(0,u.useMutation)((function(e){return g.QD.createBanner({title:e.title,url_path:e.url_path,text_position:e.text_position,image:e.image})}),{onSuccess:function(r){m.Am.success(r.message),t.invalidateQueries("banners"),e("/admin/banners")}}),A=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!L.size){e.next=7;break}return e.next=4,(0,j.QF)(L);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=""===I?"delete":"";case 8:r=e.t0,Q.mutate({title:o,url_path:C,text_position:S,image:r});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h2",{className:"w-full text-2xl font-medium",children:"Create Banner"}),(0,v.jsx)("div",{className:"flex py-3 ",children:(0,v.jsxs)(x.rU,{to:"/admin/banners",className:"flex place-items-center  gap-x-2",children:[(0,v.jsx)(c.PSe,{className:"text-xl"}),"Go Back"]})}),(0,v.jsxs)("form",{className:"information flex w-full flex-col gap-y-4 py-4 text-lg text-gray-700 ",onSubmit:A,children:[(0,v.jsxs)("div",{className:"",children:[(0,v.jsx)("label",{htmlFor:"name",className:"text-lg",children:"Name"}),(0,v.jsx)(h.Z,{name:"name",type:"text",extraClass:"w-full mt-1 mb-2",border:"border-2 border-gray-400",value:o,onChange:function(e){return p(e.target.value)},required:!0})]}),(0,v.jsxs)("div",{className:"",children:[(0,v.jsx)("label",{htmlFor:"urlPath",className:"text-lg",children:"Url Path"}),(0,v.jsx)(h.Z,{name:"urlPath",type:"text",extraClass:"w-full mt-1 mb-2",border:"border-2 border-gray-400",value:C,onChange:function(e){return Z(e.target.value)},required:!0})]}),(0,v.jsxs)("div",{className:"",children:[(0,v.jsx)("div",{className:"mb-2 text-lg",children:"Text Position"}),(0,v.jsx)(f.Z,{selected:S,setSelected:D,width:"w-64",border:"border-2 border-gray-400",options:["left","right"]})]}),(0,v.jsx)("div",{className:" border-2 border-gray-400 p-4",children:(0,v.jsx)(y,{initialImage:I,setImage:R,file:L,setFile:O})}),(0,v.jsxs)("div",{className:"mt-8 flex place-content-between",children:[(0,v.jsx)("button",{type:"button",onClick:function(){return e("/admin/banners")},className:"mb-4 w-52 border border-gray-500 py-3 px-6 text-center text-xl hover:bg-gray-500  hover:text-gray-100 sm:py-2 sm:text-base","aria-label":"Cancel Banner",children:"Cancel"}),(0,v.jsx)(b.Z,{type:"submit",value:"Create Banner",extraClass:"w-52 text-center text-xl mb-4",size:"lg"})]})]})]})}}}]);
//# sourceMappingURL=180.ff89caa2.chunk.js.map