"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[488],{8819:function(e,t,r){var a=r(885),n=r(2791),i=r(8617),s=r(1087),o=r(2824),l=r(8788),c=r(7048),d=r(184);t.Z=function(e){var t=e.item,r=(0,c.E)(),u=r.wishlist,x=r.addWishlistItem,m=r.deleteWishlistItem,p=(0,l.a)().role,g=(0,n.useState)(!1),f=(0,a.Z)(g,2),h=f[0],y=f[1],b=(0,n.useState)(!1),v=(0,a.Z)(b,2),j=v[0],N=v[1],w=t.id,Z=t.title,k=t.price,_=t.images,P="/products/".concat(encodeURIComponent(w)),S=u.data.find((function(e){return e.product_id===w}));return(0,d.jsxs)("div",{className:"w-60",children:[(0,d.jsxs)("div",{className:"group relative mb-1 overflow-hidden",onMouseOver:function(){return y(!0)},onMouseLeave:function(){return y(!1)},children:[(0,d.jsxs)(s.rU,{to:P,tabIndex:-1,children:[(0,d.jsx)("img",{src:_[0],alt:Z,loading:"lazy",className:"".concat(h?"hidden":"animate__fadeIn"," animate__animated h-80  object-cover")}),(0,d.jsx)("img",{className:"".concat(h?"":"hidden"," h-80 transform object-cover transition-transform duration-1000 hover:scale-110"),src:_[1]||_[0],alt:Z})]}),(0,d.jsx)("button",{type:"button",className:"absolute top-2 right-2 rounded-full p-1 text-2xl","aria-label":"Wishlist ",onClick:function(){"guest"!==p&&(null!=S?m.mutate({product_id:w}):x.mutate({id:w}))},onMouseOver:function(){return N(!0)},onMouseLeave:function(){return N(!1)},children:j||null!=S?(0,d.jsx)(i.dOX,{className:"text-red-500"}):(0,d.jsx)(i.wkn,{className:"text-gray-500"})}),(0,d.jsx)(s.rU,{to:P,className:"absolute left-0 right-1/2 z-10 mx-auto translate-x-1/2 transform whitespace-nowrap bg-white px-4 py-2 font-lato font-semibold text-gray-700 transition-all  duration-500 hover:bg-gray-500 hover:text-gray-100 focus:bottom-8 focus:duration-75 group-hover:bottom-8 sm:block md:-bottom-10",children:"See Details"})]}),(0,d.jsxs)("div",{className:"content font-lato",children:[(0,d.jsx)(s.rU,{to:P,className:"mb-1 block truncate text-base text-gray-700 no-underline sm:text-lg ",children:Z}),(0,d.jsx)("div",{className:"text-gray-400",children:(0,o.fK)(k)}),(0,d.jsx)(s.rU,{to:P,className:"text-sm font-bold uppercase sm:hidden",children:"See Details"})]})]})}},1587:function(e,t,r){var a=r(1413),n=r(2982),i=r(5880),s=r(184);t.Z=function(e){for(var t=e.lastPage,r=e.currentPage,o=e.setParams,l=function(){window.scrollTo({top:0,behavior:"smooth"})},c=[],d=1;d<=t;d++)c.push(d);var u=!1,x=!1,m=!1;return r<=2?(c=[1,2,3],x=!0,u=!1,m=!1):r>=t-1?(c=[t-2,t-1,t],m=!0,u=!1,x=!1):(c=[r-1,r,r+1],u=!0,x=!1,m=!1),t<=3&&(c=(0,n.Z)(Array(t)).map((function(e,t){return t+1})),x=!1,u=!1,m=!1),(0,s.jsx)("div",{className:"w-full",children:(0,s.jsxs)("ul",{className:"mx-auto flex justify-center",children:[(0,s.jsx)("li",{children:(0,s.jsx)("button",{type:"button","aria-label":"Navigate to Previous Page",onClick:function(){r>1&&(o((function(e){return(0,a.Z)((0,a.Z)({},e),{},{page:e.page-1})})),l())},disabled:1===r,className:"".concat(1===r?"pointer-events-none cursor-not-allowed text-gray-400":"cursor-pointer"," mx-1 flex h-10 w-16 items-center justify-center border px-3 text-2xl hover:bg-gray-500 hover:text-gray-100 focus:outline-none"),children:(0,s.jsx)(i.Unw,{})})}),(u||m)&&(0,s.jsx)("li",{children:(0,s.jsx)("span",{className:"flex items-end text-3xl",children:"..."})}),c.map((function(e){return(0,s.jsx)("li",{className:"",children:(0,s.jsx)("button",{type:"button",onClick:function(){o((function(t){return(0,a.Z)((0,a.Z)({},t),{},{page:e})})),l()},className:"".concat(e===r&&"bg-gray-500 text-gray-100"," mx-1 flex h-10 w-10 cursor-pointer items-center justify-center border hover:bg-gray-500 hover:text-gray-100 focus:outline-none"),children:e})},e)})),(u||x)&&(0,s.jsx)("li",{children:(0,s.jsx)("span",{className:"flex items-end text-3xl",children:"..."})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{type:"button","aria-label":"Navigate to Next Page",onClick:function(){r<t&&(o((function(e){return(0,a.Z)((0,a.Z)({},e),{},{page:e.page+1})})),l())},className:"".concat(r>=t?"pointer-events-none cursor-not-allowed text-gray-400":"cursor-pointer"," mx-1 flex h-10 w-16  items-center justify-center border px-3 text-2xl hover:bg-gray-500 hover:text-gray-100 focus:outline-none"),children:(0,s.jsx)(i.TtW,{})})})]})})}},6488:function(e,t,r){r.r(t),r.d(t,{default:function(){return Z}});var a=r(885),n=r(2791),i=r(71),s=r(1933),o=r(1087),l=r(2208),c=r(8819),d=r(1587),u=r(2982),x=r(1413),m=r(458),p=r(7689),g=r(176),f=r(8617),h=r(6836),y=r(1460),b=r(184),v=function(e){var t=e.params,r=e.setParams,a=[{name:"Name: A to Z",value:"Title a_z"},{name:"Name: Z to A",value:"Title z_a"},{name:"Price: Low to High",value:"Price a_z"},{name:"Price: High to Low",value:"Price z_a"},{name:"Newest",value:"Newest"},{name:"Oldest",value:"Oldest"}],i=a.find((function(e){return e.value===t.sortBy}));return(0,b.jsxs)(h.v,{as:"div",className:"relative inline-block w-full text-left",children:[(0,b.jsx)("div",{children:(0,b.jsxs)(h.v.Button,{className:"inline-flex h-10 w-full justify-between rounded border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700  hover:bg-gray-50  ",children:[null===i||void 0===i?void 0:i.name,(0,b.jsx)(f.kzR,{className:"-mr-1 ml-2 h-5 w-5","aria-hidden":"true"})]})}),(0,b.jsx)(y.u,{as:n.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,b.jsx)(h.v.Items,{className:"absolute right-0 z-10 w-[13.5rem] origin-top divide-y rounded bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:a.map((function(e){return(0,b.jsx)(h.v.Item,{children:function(t){var a=t.active;return(0,b.jsx)("button",{className:"".concat(a?"bg-gray-100 text-gray-900":"text-gray-700"," group flex w-full items-center rounded-md px-2 py-2 text-sm"),onClick:function(){r((function(t){return(0,x.Z)((0,x.Z)({},t),{},{sortBy:e.value})}))},children:e.name})}},e.value)}))})})]})},j=r(4799),N=function(e){var t=e.params,r=e.setParams,i=e.pagination,c=(0,p.s0)(),d=(0,o.lr)(),f=(0,a.Z)(d,1)[0],h=(0,n.useRef)(!1);(0,n.useEffect)((function(){window.onpopstate=function(){window.location.pathname.includes("product")&&r({category:f.getAll("category"),page:Number(f.get("page"))||1,pageSize:Number(f.get("page_size"))||12,sortBy:f.get("sort_by")||"Title a_z",price:f.getAll("price").map((function(e){return Number(e)})),condition:f.get("condition")||"",productName:f.get("product_name")||""})},h.current=!0}),[r,f]);var y=(0,s.useQuery)("categories",(function(){return l.HE.getCategory()}),{staleTime:1/0});if((0,n.useEffect)((function(){var e=new URLSearchParams;e.append("page",t.page.toString()),e.append("page_size",t.pageSize.toString()),e.append("sort_by",t.sortBy),null!==f.get("searchImage")&&(t.category=f.getAll("category")),t.category.forEach((function(t){e.append("category",t)})),t.price.forEach((function(t){t&&e.append("price",t.toString())})),t.condition.length>0&&e.append("condition",t.condition),t.productName.length>0&&e.append("product_name",t.productName),""===f.toString()||f.toString()===e.toString()||h.current?(c("?".concat(e.toString()),{replace:!0}),h.current=!1):c("?".concat(e.toString()),{state:{params:t}})}),[t,c,f]),y.isLoading)return(0,b.jsx)("div",{children:"Loading..."});if(y.isError||null==y.data)return(0,b.jsx)("div",{children:"Error..."});var N=y.data.data.reduce((function(e,t){var r=t.type;return e[r]||(e[r]=[]),e[r].push(t),e}),{});return(0,b.jsxs)("div",{className:"flex w-full  flex-col text-gray-600",children:[(0,b.jsx)("div",{className:"border-b border-b-gray-100 px-4 py-5 ",children:null!=i&&i.total_item>0?(0,b.jsxs)("span",{children:["Showing ",1+(i.page-1)*i.page_size," -"," ",Math.min(i.page*i.page_size,i.total_item)," ","of ",i.total_item," Results"]}):(0,b.jsx)("span",{children:"No results"})}),(0,b.jsx)("div",{className:"flex flex-col gap-y-4 border-b border-b-gray-100 px-4 pt-3 pb-4 ",children:Object.entries(N).map((function(e){var n=(0,a.Z)(e,2),i=n[0],s=n[1];return(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"mb-2 text-xl text-black",children:j((0,g.I)(i,{delimiter:" & "}))}),(0,b.jsx)("ul",{className:"flex flex-col gap-y-2",children:s.map((function(e){return(0,b.jsxs)("li",{className:"flex items-center ",children:[(0,b.jsx)("input",{type:"checkbox",checked:t.category.includes(e.id),id:e.id,name:j.singular((0,g.I)(e.title)),value:e.id,onChange:function(e){var t=e.target,a=t.checked,n=t.value;r(a?function(e){return(0,x.Z)((0,x.Z)({},e),{},{page:1,category:[].concat((0,u.Z)(e.category),[n])})}:function(e){return(0,x.Z)((0,x.Z)({},e),{},{page:1,category:e.category.filter((function(e){return e!==n}))})})},className:"mx-2 h-4 w-4 border-gray-300  text-gray-600 accent-gray-600"}),j.singular((0,g.I)(e.title))]},e.id)}))})]},i)}))}),(0,b.jsxs)("div",{className:"sort border-b border-b-gray-100 px-4 pt-3 pb-6",children:[(0,b.jsx)("h2",{className:"mb-2 text-xl text-black",children:"Sort By"}),(0,b.jsx)(v,{params:t,setParams:r})]}),(0,b.jsxs)("div",{className:"price flex flex-col gap-y-4 border-b border-b-gray-100 px-4 pt-3 pb-6",children:[(0,b.jsxs)("fieldset",{className:"price-wrapper",children:[(0,b.jsx)("legend",{className:"mb-3 text-xl text-black",children:"Minimum Price"}),(0,b.jsxs)("div",{className:"input-price flex items-center gap-x-2 rounded border border-gray-300 px-3 py-1",children:[(0,b.jsx)(m.FEy,{className:"text-3xl text-gray-400"}),(0,b.jsx)("input",{type:"number",name:"min-price",id:"min-price",className:"h-5 w-full",placeholder:"0",defaultValue:t.price[0],onBlur:function(e){var a=e.target.value;(a||t.price[0]!==parseInt(a))&&r((function(e){return(0,x.Z)((0,x.Z)({},e),{},{page:1,price:[Number(a),e.price[1]]})}))}})]})]}),(0,b.jsxs)("fieldset",{className:"price-wrapper",children:[(0,b.jsx)("legend",{className:"mb-3 text-xl text-black",children:"Maximum Price"}),(0,b.jsxs)("div",{className:"input-price flex items-center gap-x-2 rounded border border-gray-300 px-3 py-1",children:[(0,b.jsx)(m.FEy,{className:"text-3xl text-gray-400"}),(0,b.jsx)("input",{type:"number",name:"max-price",id:"max-price",defaultValue:t.price[1],className:"h-5 w-full",onBlur:function(e){var t=e.target.value;r(t?function(e){return(0,x.Z)((0,x.Z)({},e),{},{page:1,price:[e.price[0]||0,Number(t)]})}:function(e){return(0,x.Z)((0,x.Z)({},e),{},{page:1,price:[e.price[0]]})})},placeholder:"999999"})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-y-3 px-4 py-3 ",children:[(0,b.jsx)("h2",{className:"text-xl text-black",children:"Condition"}),(0,b.jsx)("ul",{className:"flex flex-col gap-y-2",children:["new","used"].map((function(e,a){return(0,b.jsxs)("li",{className:"flex items-center ",children:[(0,b.jsx)("input",{type:"radio",checked:t.condition===e,name:"condition",value:e,onChange:function(e){var t=e.target,a=t.checked,n=t.value;a&&r((function(e){return(0,x.Z)((0,x.Z)({},e),{},{page:1,condition:n})}))},className:"mx-2 h-4 w-4 border-gray-300  text-gray-600 accent-gray-600"}),(0,g.I)(e)]},a)}))})]})]})},w=r(3638),Z=function(){var e,t,r,u,x=(0,o.lr)(),m=(0,a.Z)(x,1)[0],p=(0,w.R)(),g=p.searchImage,f=p.setSearchImage,h=(0,n.useRef)(!1),y=(0,n.useState)({category:m.getAll("category"),page:Number(m.get("page"))||1,pageSize:Number(m.get("page_size"))||12,sortBy:m.get("sort_by")||"Title a_z",price:m.getAll("price").map((function(e){return Number(e)})),condition:m.get("condition")||"",productName:m.get("product_name")||""}),v=(0,a.Z)(y,2),j=v[0],Z=v[1],k=(0,s.useQuery)(["products",j],(function(){return l.M5.getProducts(j.category,j.page,j.pageSize,j.sortBy,j.price,j.condition,j.productName)}),{staleTime:1/0,retryOnMount:!1,retry:0});return k.isLoading?h.current||(window.scrollTo({top:0,behavior:"smooth"}),h.current=!0):h.current=!1,(0,b.jsxs)("main",{id:"main-content",className:"mx-auto mt-20 min-h-[60vh] max-w-7xl",children:[(0,b.jsx)("div",{className:"w-full border-t-2 border-gray-100 ",children:(0,b.jsx)("h1",{className:"mt-6 mb-2 text-center text-2xl sm:text-left sm:text-4xl",children:"Product"})}),(0,b.jsxs)("div",{className:"mb-16 flex min-h-screen  gap-x-4",children:[(0,b.jsx)("section",{className:"h-fit w-72 border border-gray-400 p-4 ",children:(0,b.jsx)(N,{params:j,setParams:Z,pagination:null===(e=k.data)||void 0===e?void 0:e.pagination})}),(0,b.jsxs)("div",{className:"flex flex-1 flex-col gap-y-4",children:[g[0]&&g[0].category.length>0&&(0,b.jsx)("section",{className:"w-full  border border-gray-400 p-4",children:(0,b.jsxs)("div",{className:"group relative flex w-full place-content-start gap-x-4 overflow-hidden ",children:[(0,b.jsx)("img",{alt:"you searched for",src:g[0].file.preview,className:"w-40 rounded-md border-2  border-gray-100  object-contain object-bottom",onLoad:function(){URL.revokeObjectURL(g[0].file.preview)}}),(0,b.jsxs)("div",{className:"text-left text-xl text-gray-700",children:[(0,b.jsx)("b",{children:"We found these following products:"}),(0,b.jsxs)("p",{children:["We're pretty sure you were looking for"," ",(0,b.jsx)("b",{children:g[0].category}),(0,b.jsx)("br",{}),"If this not what you were looking for, then we are fricked"]})]}),(0,b.jsx)(i.bjh,{onClick:function(){f(new Array({file:new File([],""),category:""}))},className:"absolute top-0 right-0 animate-spin-fast-once cursor-pointer text-3xl text-gray-400"})]})}),k.isLoading?(0,b.jsxs)("div",{className:"not-found flex h-full w-full flex-col items-center gap-y-4 py-[10%] text-2xl",children:[(0,b.jsx)("strong",{children:"Loading..."}),(0,b.jsx)("div",{children:"Please wait a moment"})]}):null!=k.data&&(null===(t=k.data)||void 0===t?void 0:t.data.length)>0?(0,b.jsxs)("div",{className:"flex flex-col justify-between gap-y-12",children:[(0,b.jsx)("section",{className:"grid w-full grid-cols-2 gap-y-4 gap-x-2 lg:grid-cols-3 xl:grid-cols-4",children:null===(r=k.data)||void 0===r?void 0:r.data.map((function(e){return(0,b.jsx)(c.Z,{item:e},e.id)}))}),(0,b.jsx)(d.Z,{currentPage:j.page,lastPage:null===(u=k.data)||void 0===u?void 0:u.pagination.total_page,setParams:Z})]}):(0,b.jsxs)("div",{className:"not-found flex h-full w-full flex-col  items-center gap-y-4 py-[10%] text-2xl",children:[(0,b.jsx)("strong",{children:"Oops! No product found"}),(0,b.jsx)("div",{children:"Please try again with different keywords or filters"})]})]})]})]})}}}]);
//# sourceMappingURL=488.59b249bd.chunk.js.map