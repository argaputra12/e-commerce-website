"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[298],{5298:function(e,t,r){r.r(t);var s=r(4165),n=r(5861),a=r(885),o=r(2791),i=r(8617),c=r(1933),l=r(7689),u=r(1087),d=r(9085),m=r(2208),g=r(2636),x=r(2203),f=r(2408),y=r(184),p=["tops","bottoms","shoes & accessories"];t.default=function(){var e=(0,l.UO)().id,t=(0,o.useState)(""),r=(0,a.Z)(t,2),h=r[0],b=r[1],v=(0,o.useState)(""),C=(0,a.Z)(v,2),j=C[0],w=C[1],N=(0,l.s0)(),S=(0,c.useQueryClient)(),Z=(0,c.useMutation)((function(e){return m.HE.updateCategory(e.id,{title:e.title,type:e.type})}),{onSuccess:function(e){d.Am.success(e.message),S.invalidateQueries("categories").catch((function(e){console.log(e)}))},onError:function(e){d.Am.error(e.body.message)}}),k=(0,c.useQuery)(["category",e],(function(){return m.HE.getDetailCategory(e)}),{refetchOnWindowFocus:!1,onSuccess:function(e){b(e.title),w(e.type)}}),E=(0,c.useMutation)((function(e){return m.HE.deleteCategory(e)}),{onSuccess:function(e){d.Am.success(e.message),S.invalidateQueries("categories").catch((function(e){console.log(e)})),N("/admin/categories")},onError:function(e){d.Am.error(e.body.message)}}),Q=(0,c.useQuery)("categories",(function(){return m.HE.getCategory()}),{staleTime:1/0});if(k.isLoading||void 0===e||Q.isLoading)return(0,y.jsx)("div",{children:"Loading..."});var T=function(){var t=(0,n.Z)((0,s.Z)().mark((function t(r){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.preventDefault(),Z.mutate({id:e,title:h,type:j});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h2",{className:"w-full text-2xl font-medium",children:"Update Category"}),(0,y.jsx)("div",{className:"flex py-3 ",children:(0,y.jsxs)(u.rU,{to:"/admin/categories",className:"flex place-items-center  gap-x-2",children:[(0,y.jsx)(i.PSe,{className:"text-xl"}),"Go Back"]})}),(0,y.jsxs)("form",{className:"information flex min-h-[32rem] w-full flex-col gap-y-4 py-4 text-lg text-gray-700",onSubmit:T,children:[(0,y.jsxs)("div",{className:"",children:[(0,y.jsx)("label",{htmlFor:"categoryTitle",className:"text-lg",children:"Category Title"}),(0,y.jsx)(f.Z,{name:"categoryTitle",type:"text",extraClass:"w-full mt-1 mb-2",border:"border-2 border-gray-400",value:h,onChange:function(e){return b(e.target.value)},required:!0})]}),(0,y.jsxs)("div",{className:"",children:[(0,y.jsx)("div",{className:"mb-2 text-lg",children:"Category Type"}),(0,y.jsx)(x.Z,{selected:j,setSelected:w,width:"w-64",options:p})]}),(0,y.jsxs)("div",{className:"mt-8 flex place-content-between",children:[(0,y.jsx)("button",{type:"button",onClick:function(){return E.mutate(e)},className:"mb-4 w-52 border border-gray-500 py-3 px-6 text-center text-xl hover:bg-gray-500  hover:text-gray-100 sm:py-2 sm:text-base","aria-label":"Delete Category",children:"Delete Category"}),(0,y.jsx)(g.Z,{type:"submit",value:"Update Category",extraClass:"w-52 text-center text-xl mb-4",size:"lg"})]})]})]})}}}]);
//# sourceMappingURL=298.619f942a.chunk.js.map